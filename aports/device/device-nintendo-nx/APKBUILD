# Reference: <https://postmarketos.org/devicepkg>
# Device tree for Nintendo Switch
# changes:
# - deviceinfo: USB and screen firmware no longer embedded in kernel to make building kernel easier
#   so need to copy them into initramfs
pkgname="device-nintendo-nx"
pkgdesc="Nintendo Switch"
pkgver=0.1
pkgrel=0
url="https://postmarketos.org"
license="MIT"
arch="noarch"
options="!check"
depends="postmarketos-base linux-nintendo-nx mesa-dri-swrast linux-firmware-nvidia linux-firmware-brcm"
makedepends="devicepkg-dev uboot-tools"
source="
	deviceinfo
"

build() {
	devicepkg_build $startdir $pkgname
}

package() {
	devicepkg_package $startdir $pkgname
}

sha512sums="8aea46f5183228403a806ba391bafaca955ae57f3559b690deba839db908bf970f163c7540e6e9614e02e8a492dcb8baa097283f0da47973ab44fe0fcacb825d  deviceinfo"
